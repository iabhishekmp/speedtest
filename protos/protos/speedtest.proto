syntax = "proto3";

service SpeedTest {
  rpc ping(Ping) returns (Empty);
  rpc DownloadFile(DownloadRequest) returns (stream DownloadData);
};

enum FileSize {
  MB1 = 0;
  MB25 = 1;
}

message DownloadRequest {
  int32 chunkSize = 1;
  FileSize fileSize = 2;
}

message DownloadData {
  bytes data = 1;
  double progress = 2;
}

message Ping {
  string text = 1;
}
message Empty {
  string value = 1;
}